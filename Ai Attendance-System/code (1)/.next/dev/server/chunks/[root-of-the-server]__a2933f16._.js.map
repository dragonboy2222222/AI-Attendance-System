{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Downloads/code%20%281%29/lib/db.ts"],"sourcesContent":["// Mock database - Replace with actual PostgreSQL client when integrating\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n  role: 'admin' | 'student';\n  faceEncoding?: string;\n  createdAt: string;\n}\n\ninterface Class {\n  id: number;\n  adminId: number;\n  name: string;\n  description: string;\n  startTime: string;\n  durationMinutes: number;\n  locationLat: number;\n  locationLng: number;\n  status: 'pending' | 'ongoing' | 'completed';\n  createdAt: string;\n}\n\ninterface Attendance {\n  id: number;\n  classId: number;\n  studentId: number;\n  checkInTime: string;\n  checkOutTime?: string;\n  faceVerified: boolean;\n  locationLat: number;\n  locationLng: number;\n  durationMinutes: number;\n  status: 'present' | 'absent' | 'late';\n}\n\n// Mock data storage\nlet users: User[] = [\n  {\n    id: 1,\n    name: 'Admin User',\n    email: 'admin@example.com',\n    role: 'admin',\n    createdAt: new Date().toISOString(),\n  },\n  {\n    id: 2,\n    name: 'John Student',\n    email: 'john@example.com',\n    role: 'student',\n    createdAt: new Date().toISOString(),\n  },\n];\n\nlet classes: Class[] = [\n  {\n    id: 1,\n    adminId: 1,\n    name: 'Mathematics 101',\n    description: 'Introduction to Calculus',\n    startTime: new Date().toISOString(),\n    durationMinutes: 60,\n    locationLat: 40.7128,\n    locationLng: -74.006,\n    status: 'pending',\n    createdAt: new Date().toISOString(),\n  },\n];\n\nlet classEnrollments: { classId: number; studentId: number }[] = [];\nlet attendanceRecords: Attendance[] = [];\n\nexport const db = {\n  users,\n  classes,\n  classEnrollments,\n  attendanceRecords,\n};\n"],"names":[],"mappings":"AAAA,yEAAyE;;;;;AAoCzE,oBAAoB;AACpB,IAAI,QAAgB;IAClB;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,WAAW,IAAI,OAAO,WAAW;IACnC;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,WAAW,IAAI,OAAO,WAAW;IACnC;CACD;AAED,IAAI,UAAmB;IACrB;QACE,IAAI;QACJ,SAAS;QACT,MAAM;QACN,aAAa;QACb,WAAW,IAAI,OAAO,WAAW;QACjC,iBAAiB;QACjB,aAAa;QACb,aAAa,CAAC;QACd,QAAQ;QACR,WAAW,IAAI,OAAO,WAAW;IACnC;CACD;AAED,IAAI,mBAA6D,EAAE;AACnE,IAAI,oBAAkC,EAAE;AAEjC,MAAM,KAAK;IAChB;IACA;IACA;IACA;AACF"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Downloads/code%20%281%29/app/api/attendance/student/%5BstudentId%5D/route.ts"],"sourcesContent":["import { db } from '@/lib/db';\n\nexport async function GET(\n  request: Request,\n  { params }: { params: { studentId: string } }\n) {\n  try {\n    const studentId = parseInt(params.studentId);\n    const records = db.attendanceRecords.filter(a => a.studentId === studentId);\n\n    // Calculate statistics\n    const totalClasses = db.classEnrollments.filter(\n      e => e.studentId === studentId\n    ).length;\n\n    const presentCount = records.filter(r => r.status === 'present').length;\n    const attendancePercentage = totalClasses > 0 \n      ? Math.round((presentCount / totalClasses) * 100) \n      : 0;\n\n    // Enrich with class names\n    const enrichedRecords = records.map(record => {\n      const classData = db.classes.find(c => c.id === record.classId);\n      return {\n        ...record,\n        className: classData?.name || 'Unknown',\n        durationMinutes: classData?.durationMinutes || 0,\n      };\n    });\n\n    return Response.json({\n      attendance: enrichedRecords,\n      stats: {\n        totalClasses,\n        presentCount,\n        attendancePercentage,\n      },\n    });\n  } catch (error) {\n    return Response.json({ error: 'Failed to fetch student attendance' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IACpB,OAAgB,EAChB,EAAE,MAAM,EAAqC;IAE7C,IAAI;QACF,MAAM,YAAY,SAAS,OAAO,SAAS;QAC3C,MAAM,UAAU,iHAAE,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,KAAK;QAEjE,uBAAuB;QACvB,MAAM,eAAe,iHAAE,CAAC,gBAAgB,CAAC,MAAM,CAC7C,CAAA,IAAK,EAAE,SAAS,KAAK,WACrB,MAAM;QAER,MAAM,eAAe,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,WAAW,MAAM;QACvE,MAAM,uBAAuB,eAAe,IACxC,KAAK,KAAK,CAAC,AAAC,eAAe,eAAgB,OAC3C;QAEJ,0BAA0B;QAC1B,MAAM,kBAAkB,QAAQ,GAAG,CAAC,CAAA;YAClC,MAAM,YAAY,iHAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,OAAO;YAC9D,OAAO;gBACL,GAAG,MAAM;gBACT,WAAW,WAAW,QAAQ;gBAC9B,iBAAiB,WAAW,mBAAmB;YACjD;QACF;QAEA,OAAO,SAAS,IAAI,CAAC;YACnB,YAAY;YACZ,OAAO;gBACL;gBACA;gBACA;YACF;QACF;IACF,EAAE,OAAO,OAAO;QACd,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAqC,GAAG;YAAE,QAAQ;QAAI;IACtF;AACF"}}]
}